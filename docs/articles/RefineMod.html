<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RefineMod â€¢ RefineMod</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="RefineMod">
<meta property="og:description" content="RefineMod">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RefineMod</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/RefineMod.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="RefineMod_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>RefineMod</h1>
            
      
      
      <div class="hidden name"><code>RefineMod.Rmd</code></div>

    </div>

    
    
<p>This vignette explains about the details and usage of functions in the RefineMod package. This package provide functions to refine and optimize linear regression models. Models can be refined to only those predictors that are statistically significant in explaining the response variable. Linear regression models can also be compared on the basis of their performance like RMSE, R2 and MAE.</p>
<p>There are currently three functions in this package:</p>
<ul>
<li><code>sig_pred</code></li>
<li><code>lm_significant</code></li>
<li><code>comp_mods</code></li>
</ul>
<div id="loading-the-package" class="section level3">
<h3 class="hasAnchor">
<a href="#loading-the-package" class="anchor"></a>Loading the package</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">RefineMod</span><span class="op">)</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/UBC-MDS/datateachr">datateachr</a></span><span class="op">)</span> <span class="co">#Dependency</span></code></pre></div>
</div>
<div id="sig_pred" class="section level3">
<h3 class="hasAnchor">
<a href="#sig_pred" class="anchor"></a>sig_pred</h3>
<p>This function finds all the predictor variables that are significant to a linear regression model from the input predictors</p>
<pre><code><a href="../reference/sig_pred.html">sig_pred(data, res, preds = NULL, p = 0.01, verbose = FALSE, ...)
</a></code></pre>
<p><code>data</code><br>
a data frame object containing the variables to be used as response and predictors in the model.</p>
<p><code>res</code><br>
a character vector of length 1 that matches the name of the response variable column in data. Response variable in the data must be of numeric type.</p>
<p><code>preds</code> a character vector of predictor variables in the data. When not specified function will take all variables in data other than response variable as input predictors to start with. A default of NULL is given to this argument to provide the flexibility of using either user defined predictor variables or all but response variable as predictors from the data.</p>
<p><code>p</code> a numeric value that denotes the threshold for selecting the predictors based on their statistical significance in building the model. Default p-value threshold is 0.01.</p>
<p><code>verbose</code><br>
a logical value denoting whether or not to print progress messages as the function is being run. Default is TRUE</p>
<p><code>...</code><br>
additional arguments to be passed to the inner lm() function calls. Refer to the documentation of lm() for more details on those arguments</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">sig_mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sig_pred.html">sig_pred</a></span><span class="op">(</span><span class="va">cancer_sample</span><span class="op">[</span>,<span class="op">-</span><span class="fl">2</span><span class="op">]</span>, res <span class="op">=</span> <span class="st">"radius_mean"</span><span class="op">)</span></code></pre></div>
</div>
<div id="lm_significant" class="section level3">
<h3 class="hasAnchor">
<a href="#lm_significant" class="anchor"></a>lm_significant</h3>
<p>lm_significant is used to optimize a multiple linear regression model to only those predictor variables that are statistically significant for building that model. The function currently only supports additive model linear regressions.</p>
<pre><code><a href="../reference/lm_significant.html">lm_significant(
  data,
  res,
  preds = NULL,
  p = 0.01,
  verbose = TRUE,
  all = FALSE,
  ...
)</a></code></pre>
<p><code>data</code><br>
a data frame object containing the variables to be used as response and predictors in the model.</p>
<p><code>res</code><br>
a character vector of length 1 that matches the name of the response variable column in data. Response variable in the data must be of numeric type.</p>
<p><code>preds</code> a character vector of predictor variables in the data. When not specified function will take all variables in data other than response variable as input predictors to start with. A default of NULL is given to this argument to provide the flexibility of using either user defined predictor variables or all but response variable as predictors from the data.</p>
<p><code>p</code> a numeric value that denotes the threshold for selecting the predictors based on their statistical significance in building the model. Default p-value threshold is 0.01.</p>
<p><code>verbose</code><br>
a logical value denoting whether or not to print progress messages as the function is being run. Default is TRUE</p>
<p><code>all</code><br>
if TRUE, the function will return a list with two lm model objects. The first one is the original call with all the input predictors and the second is the model with only the significant predictors. The default is FALSE which returns a single lm object with only the significant predictors</p>
<p><code>...</code><br>
additional arguments to be passed to the inner lm() function calls. Refer to the documentation of lm() for more details on those arguments</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Only the optimized model</span>

<span class="va">sig_mod1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lm_significant.html">lm_significant</a></span><span class="op">(</span><span class="va">cancer_sample</span><span class="op">[</span>,<span class="op">-</span><span class="fl">2</span><span class="op">]</span>, res <span class="op">=</span> <span class="st">"radius_mean"</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Response Variable: radius_mean </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Input Predictors: ID texture_mean perimeter_mean area_mean smoothness_mean compactness_mean concavity_mean concave_points_mean symmetry_mean fractal_dimension_mean radius_se texture_se perimeter_se area_se smoothness_se compactness_se concavity_se concave_points_se symmetry_se fractal_dimension_se radius_worst texture_worst perimeter_worst area_worst smoothness_worst compactness_worst concavity_worst concave_points_worst symmetry_worst fractal_dimension_worst </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Fitting a linear model </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Optimization of Predictors</span>
<span class="co">#&gt; ....</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Final Optimization...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Final Optimized Predictors: perimeter_mean compactness_mean radius_worst area_worst concavity_mean perimeter_worst compactness_worst</span>

<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">sig_mod1</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; stats::lm(formula = form1, data = data)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;      Min       1Q   Median       3Q      Max </span>
<span class="co">#&gt; -0.43905 -0.03010 -0.00420  0.03113  0.27932 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                     Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)        4.401e-01  3.107e-02  14.166  &lt; 2e-16 ***</span>
<span class="co">#&gt; perimeter_mean     1.487e-01  5.931e-04 250.709  &lt; 2e-16 ***</span>
<span class="co">#&gt; compactness_mean  -3.926e+00  1.559e-01 -25.182  &lt; 2e-16 ***</span>
<span class="co">#&gt; radius_worst       1.462e-01  7.390e-03  19.778  &lt; 2e-16 ***</span>
<span class="co">#&gt; area_worst        -1.897e-04  3.205e-05  -5.918 5.68e-09 ***</span>
<span class="co">#&gt; concavity_mean    -6.334e-01  9.568e-02  -6.620 8.39e-11 ***</span>
<span class="co">#&gt; perimeter_worst   -1.671e-02  1.020e-03 -16.381  &lt; 2e-16 ***</span>
<span class="co">#&gt; compactness_worst  2.310e-01  4.123e-02   5.602 3.32e-08 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 0.06754 on 561 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.9996, Adjusted R-squared:  0.9996 </span>
<span class="co">#&gt; F-statistic: 2.208e+05 on 7 and 561 DF,  p-value: &lt; 2.2e-16</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Both the original model and optimized model</span>

<span class="va">sig_mod2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lm_significant.html">lm_significant</a></span><span class="op">(</span><span class="va">mtcars</span>, res <span class="op">=</span> <span class="st">"mpg"</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Response Variable: mpg </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Input Predictors: cyl disp hp drat wt qsec vs am gear carb </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Fitting a linear model </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Optimization of Predictors</span>
<span class="co">#&gt; .</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Final Optimization...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Final Optimized Predictors: cyl wt</span>

<span class="va">sig_mod2</span>
<span class="co">#&gt; $`All Predictors`</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; stats::lm(formula = form, data = data)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt; (Intercept)          cyl         disp           hp         drat           wt  </span>
<span class="co">#&gt;    12.30337     -0.11144      0.01334     -0.02148      0.78711     -3.71530  </span>
<span class="co">#&gt;        qsec           vs           am         gear         carb  </span>
<span class="co">#&gt;     0.82104      0.31776      2.52023      0.65541     -0.19942  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Opt Predictors`</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; stats::lm(formula = form1, data = data)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt; (Intercept)          cyl           wt  </span>
<span class="co">#&gt;      39.686       -1.508       -3.191</span>

<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">sig_mod2</span><span class="op">$</span><span class="va">`Opt Predictors`</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; stats::lm(formula = form1, data = data)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -4.2893 -1.5512 -0.4684  1.5743  6.1004 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)  39.6863     1.7150  23.141  &lt; 2e-16 ***</span>
<span class="co">#&gt; cyl          -1.5078     0.4147  -3.636 0.001064 ** </span>
<span class="co">#&gt; wt           -3.1910     0.7569  -4.216 0.000222 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 2.568 on 29 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.8302, Adjusted R-squared:  0.8185 </span>
<span class="co">#&gt; F-statistic: 70.91 on 2 and 29 DF,  p-value: 6.809e-12</span></code></pre></div>
</div>
<div id="comp_mods" class="section level3">
<h3 class="hasAnchor">
<a href="#comp_mods" class="anchor"></a>comp_mods</h3>
<p>This function takes in one or more linear regression models and compares the RMSE, R2 and MAE of those models with or without a new input data.</p>
<pre><code><a href="../reference/comp_mods.html">comp_mods(mod1, ..., newdata = NULL)</a></code></pre>
<p><code>mod1</code><br>
an object containing results returned by lm function</p>
<p><code>...</code><br>
additional lm model object</p>
<p><code>newdata</code><br>
newdata than used for training the model. By default NULL and the function evaluated model performance based on training data</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">train</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>,<span class="op">]</span>
<span class="va">test</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">[</span><span class="fl">21</span><span class="op">:</span><span class="fl">30</span>,<span class="op">]</span>

<span class="va">mod1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">~</span><span class="va">wt</span>, <span class="va">train</span><span class="op">)</span>
<span class="va">mod2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">~</span><span class="va">cyl</span>, <span class="va">train</span><span class="op">)</span>
<span class="va">mod3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">~</span><span class="va">wt</span><span class="op">+</span><span class="va">cyl</span>, <span class="va">train</span><span class="op">)</span>
<span class="va">mod4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">~</span><span class="va">carb</span>, <span class="va">train</span><span class="op">)</span>

<span class="fu"><a href="../reference/comp_mods.html">comp_mods</a></span><span class="op">(</span><span class="va">mod1</span>, <span class="va">mod2</span>, <span class="va">mod3</span>, <span class="va">mod4</span>, newdata <span class="op">=</span> <span class="va">test</span><span class="op">)</span>
<span class="co">#&gt;            RMSE     Rsquared      MAE</span>
<span class="co">#&gt; model1 7.558188 0.0276731943 6.090093</span>
<span class="co">#&gt; model2 8.893606 0.0006549141 7.565000</span>
<span class="co">#&gt; model3 8.315105 0.0044296323 6.741422</span>
<span class="co">#&gt; model4 9.741102 0.1946252582 7.860596</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Asfar Lathif.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
